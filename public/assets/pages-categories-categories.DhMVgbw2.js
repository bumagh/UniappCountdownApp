import{_ as e,s as t,j as a,k as l,c as s,b as o,w as n,i as d,o as c,a as i,l as r,d as u,e as f,t as h,S as y,I as g,m as C,f as m,F as _,r as w,g as p,h as D,p as k,P as b,q as I,n as x,u as q}from"./index-sFHZ-OT3.js";import{d as v}from"./db.Cc0ive14.js";const F=e({name:"Categories",components:{AddCountdown:e({name:"AddCountdown",props:{visible:{type:Boolean,default:!1},countdownData:{type:Object,default:null}},data(){return{formData:{title:"",date:this.getCurrentDate(),categoryId:null,isPinned:!1,repeatCycle:0,repeatFrequency:"ä¸é‡å¤"},categories:[],cycleOptions:["æ¯1","æ¯2","æ¯3","æ¯4","æ¯5","æ¯6","æ¯7","æ¯8","æ¯9","æ¯10"],frequencyOptions:["å¤©é‡å¤","å‘¨é‡å¤","æœˆé‡å¤","å¹´é‡å¤"],cycleIndex:0,frequencyIndex:0,isRepeatEnabled:!1}},computed:{minDate(){const e=new Date;return e.setFullYear(e.getFullYear()-10),e.toISOString().split("T")[0]},maxDate(){const e=new Date;return e.setFullYear(e.getFullYear()+10),e.toISOString().split("T")[0]}},watch:{visible(e){e&&(this.loadCategories(),this.countdownData?(this.formData={title:this.countdownData.title,date:this.countdownData.date,categoryId:this.countdownData.categoryId,isPinned:this.countdownData.isPinned||!1,repeatCycle:this.countdownData.repeatCycle||0,repeatFrequency:this.countdownData.repeatFrequency||"ä¸é‡å¤"},this.checkRepeatEnabled(),this.syncRepeatIndexes()):this.resetForm())}},methods:{getCurrentDate(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},loadCategories(){const e=v.getCurrentUser();e&&(this.categories=v.getCategories(e.id),this.categories.length>0&&!this.formData.categoryId&&(this.formData.categoryId=this.categories[0].id))},checkRepeatEnabled(){this.isRepeatEnabled=this.formData.repeatCycle>0&&"ä¸é‡å¤"!==this.formData.repeatFrequency},onDateChange(e){this.formData.date=e.detail.value},selectCategory(e){this.formData.categoryId=e},onPinnedChange(e){this.formData.isPinned=e.detail.value},toggleRepeat(e){this.isRepeatEnabled=e.detail.value,this.isRepeatEnabled?(this.cycleIndex=0,this.frequencyIndex=0,this.formData.repeatCycle=1,this.formData.repeatFrequency="å¤©é‡å¤"):(this.cycleIndex=0,this.frequencyIndex=0,this.formData.repeatCycle=0,this.formData.repeatFrequency="ä¸é‡å¤")},onCycleChange(e){this.cycleIndex=e.detail.value[0],this.formData.repeatCycle=parseInt(this.cycleOptions[this.cycleIndex].replace("æ¯",""))},onFrequencyChange(e){this.frequencyIndex=e.detail.value[0],this.formData.repeatFrequency=this.frequencyOptions[this.frequencyIndex]},syncRepeatIndexes(){0===this.formData.repeatCycle||"ä¸é‡å¤"===this.formData.repeatFrequency?(this.cycleIndex=0,this.frequencyIndex=0):(this.cycleIndex=this.cycleOptions.findIndex(e=>e===`æ¯${this.formData.repeatCycle}`),this.frequencyIndex=this.frequencyOptions.findIndex(e=>e===this.formData.repeatFrequency),-1===this.cycleIndex&&(this.cycleIndex=0),-1===this.frequencyIndex&&(this.frequencyIndex=0))},getRepeatText(){return`${this.cycleOptions[this.cycleIndex]}${this.frequencyOptions[this.frequencyIndex]}`},formatDateDisplay(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}å¹´${t.getMonth()+1}æœˆ${t.getDate()}æ—¥ æ˜ŸæœŸ${["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"][t.getDay()]}`},handleClose(){this.$emit("close"),this.resetForm()},handleDelete(){a({itemList:["åˆ é™¤","å½’æ¡£"],success:e=>{0===e.tapIndex?l({title:"ç¡®è®¤åˆ é™¤",content:"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå€’æ•°æ—¥å—ï¼Ÿ",success:e=>{if(e.confirm)try{v.deleteCountdown(this.countdownData.id),t({title:"åˆ é™¤æˆåŠŸ",icon:"success"}),this.$emit("success"),this.handleClose()}catch(a){t({title:"åˆ é™¤å¤±è´¥",icon:"none"})}}}):1===e.tapIndex&&l({title:"ç¡®è®¤å½’æ¡£",content:'ç¡®å®šè¦å½’æ¡£è¿™ä¸ªå€’æ•°æ—¥å—ï¼Ÿå½’æ¡£åŽå¯åœ¨"æˆ‘çš„"æ¨¡å—ä¸­æŸ¥çœ‹ã€‚',confirmText:"å½’æ¡£",success:e=>{if(e.confirm)try{v.archiveCountdown(this.countdownData.id),t({title:"å½’æ¡£æˆåŠŸ",icon:"success"}),this.$emit("success"),this.handleClose()}catch(a){t({title:"å½’æ¡£å¤±è´¥",icon:"none"})}}})}})},handleSubmit(){if(!this.formData.title.trim())return void t({title:"è¯·è¾“å…¥æ—¥ç¨‹åç§°",icon:"none"});if(!this.formData.date)return void t({title:"è¯·é€‰æ‹©æ—¥æœŸ",icon:"none"});if(!this.formData.categoryId)return void t({title:"è¯·é€‰æ‹©åˆ†ç±»",icon:"none"});const e=v.getCurrentUser();if(e)try{this.countdownData?(v.updateCountdown(this.countdownData.id,{title:this.formData.title,date:this.formData.date,categoryId:this.formData.categoryId,isPinned:this.formData.isPinned,repeatCycle:this.formData.repeatCycle,repeatFrequency:this.formData.repeatFrequency}),t({title:"ä¿®æ”¹æˆåŠŸ",icon:"success"})):(v.addCountdown({title:this.formData.title,date:this.formData.date,categoryId:this.formData.categoryId,userId:e.id,isPinned:this.formData.isPinned,repeatCycle:this.formData.repeatCycle,repeatFrequency:this.formData.repeatFrequency}),t({title:"æ·»åŠ æˆåŠŸ",icon:"success"})),this.$emit("success"),this.handleClose()}catch(a){t({title:"æ“ä½œå¤±è´¥",icon:"none"})}else t({title:"ç”¨æˆ·ä¿¡æ¯èŽ·å–å¤±è´¥",icon:"none"})},resetForm(){this.formData={title:"",date:this.getCurrentDate(),categoryId:this.categories.length>0?this.categories[0].id:null,isPinned:!1,repeatCycle:0,repeatFrequency:"ä¸é‡å¤"},this.cycleIndex=0,this.frequencyIndex=0,this.isRepeatEnabled=!1}}},[["render",function(e,t,a,l,x,q){const v=u,F=d,V=g,$=C,S=k,A=I,P=b,R=y;return a.visible?(c(),s(F,{key:0,class:"modal-mask",onClick:q.handleClose},{default:n(()=>[i(F,{class:"modal-content",onClick:t[1]||(t[1]=r(()=>{},["stop"]))},{default:n(()=>[i(F,{class:"modal-header"},{default:n(()=>[i(v,{class:"modal-title"},{default:n(()=>[f(h(a.countdownData?"ç¼–è¾‘å€’æ•°æ—¥":"æ·»åŠ å€’æ•°æ—¥"),1)]),_:1}),i(F,{class:"modal-close",onClick:q.handleClose},{default:n(()=>[i(v,{class:"close-icon"},{default:n(()=>[f("âœ•")]),_:1})]),_:1},8,["onClick"])]),_:1}),i(R,{"scroll-y":"",class:"modal-body"},{default:n(()=>[i(F,{class:"form-item"},{default:n(()=>[i(v,{class:"form-label"},{default:n(()=>[f("æ—¥ç¨‹åç§°")]),_:1}),i(V,{class:"form-input",modelValue:x.formData.title,"onUpdate:modelValue":t[0]||(t[0]=e=>x.formData.title=e),placeholder:"è¯·è¾“å…¥æ—¥ç¨‹åç§°",maxlength:"20"},null,8,["modelValue"])]),_:1}),i(F,{class:"form-item"},{default:n(()=>[i(v,{class:"form-label"},{default:n(()=>[f("é€‰æ‹©æ—¥æœŸ")]),_:1}),i($,{mode:"date",value:x.formData.date,onChange:q.onDateChange,start:q.minDate,end:q.maxDate},{default:n(()=>[i(F,{class:"picker-input"},{default:n(()=>[x.formData.date?(c(),s(v,{key:0,class:"picker-text"},{default:n(()=>[f(h(q.formatDateDisplay(x.formData.date)),1)]),_:1})):(c(),s(v,{key:1,class:"picker-placeholder"},{default:n(()=>[f("è¯·é€‰æ‹©æ—¥æœŸ")]),_:1})),i(v,{class:"picker-icon"},{default:n(()=>[f("ðŸ“…")]),_:1})]),_:1})]),_:1},8,["value","onChange","start","end"])]),_:1}),i(F,{class:"form-item"},{default:n(()=>[i(v,{class:"form-label"},{default:n(()=>[f("é€‰æ‹©åˆ†ç±»")]),_:1}),i(F,{class:"category-list"},{default:n(()=>[(c(!0),m(_,null,w(x.categories,e=>(c(),s(F,{key:e.id,class:p(["category-item",{"category-active":x.formData.categoryId===e.id}]),onClick:t=>q.selectCategory(e.id)},{default:n(()=>[i(F,{class:"category-icon",style:D({backgroundColor:e.color})},{default:n(()=>[i(v,{class:"icon-text"},{default:n(()=>[f(h(e.icon),1)]),_:2},1024)]),_:2},1032,["style"]),i(v,{class:"category-name"},{default:n(()=>[f(h(e.name),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),i(F,{class:"form-item"},{default:n(()=>[i(F,{class:"form-label-row"},{default:n(()=>[i(v,{class:"form-label"},{default:n(()=>[f("ç½®é¡¶æ˜¾ç¤º")]),_:1}),i(S,{checked:x.formData.isPinned,onChange:q.onPinnedChange,color:"#1890ff"},null,8,["checked","onChange"])]),_:1})]),_:1}),i(F,{class:"form-item"},{default:n(()=>[i(F,{class:"form-label-row"},{default:n(()=>[i(v,{class:"form-label"},{default:n(()=>[f("é‡å¤è®¾ç½®")]),_:1}),i(S,{checked:x.isRepeatEnabled,onChange:q.toggleRepeat,color:"#1890ff"},null,8,["checked","onChange"])]),_:1})]),_:1}),x.isRepeatEnabled?(c(),s(F,{key:0,class:"repeat-selector-section"},{default:n(()=>[i(F,{class:"repeat-selector"},{default:n(()=>[i(F,{class:"repeat-picker-wrapper"},{default:n(()=>[i(v,{class:"repeat-label"},{default:n(()=>[f("å‘¨æœŸ")]),_:1}),i(P,{value:[x.cycleIndex],onChange:q.onCycleChange,class:"repeat-picker-view"},{default:n(()=>[i(A,null,{default:n(()=>[(c(!0),m(_,null,w(x.cycleOptions,(e,t)=>(c(),s(F,{key:t,class:"picker-view-item"},{default:n(()=>[i(v,null,{default:n(()=>[f(h(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["value","onChange"])]),_:1}),i(F,{class:"repeat-picker-wrapper"},{default:n(()=>[i(v,{class:"repeat-label"},{default:n(()=>[f("é¢‘æ¬¡")]),_:1}),i(P,{value:[x.frequencyIndex],onChange:q.onFrequencyChange,class:"repeat-picker-view"},{default:n(()=>[i(A,null,{default:n(()=>[(c(!0),m(_,null,w(x.frequencyOptions,(e,t)=>(c(),s(F,{key:t,class:"picker-view-item"},{default:n(()=>[i(v,null,{default:n(()=>[f(h(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["value","onChange"])]),_:1})]),_:1}),i(F,{class:"repeat-hint"},{default:n(()=>[i(v,null,{default:n(()=>[f("å½“å‰è®¾ç½®ï¼š"+h(q.getRepeatText()),1)]),_:1})]),_:1})]),_:1})):o("",!0)]),_:1}),i(F,{class:"modal-footer"},{default:n(()=>[a.countdownData?(c(),s(F,{key:0,class:"btn btn-danger",onClick:q.handleDelete},{default:n(()=>[i(v,null,{default:n(()=>[f("åˆ é™¤/å½’æ¡£")]),_:1})]),_:1},8,["onClick"])):o("",!0),i(F,{class:"btn btn-ghost",onClick:q.handleClose},{default:n(()=>[i(v,null,{default:n(()=>[f("å–æ¶ˆ")]),_:1})]),_:1},8,["onClick"]),i(F,{class:"btn btn-primary",onClick:q.handleSubmit},{default:n(()=>[i(v,null,{default:n(()=>[f("ç¡®å®š")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onClick"])):o("",!0)}],["__scopeId","data-v-e2960d59"]])},data:()=>({user:{id:1,nickname:"å¼ ä¸‰"},categories:[],countdowns:[],drawerVisible:!1,addCountdownVisible:!1,editingCountdown:null,detailVisible:!1,selectedCategory:null,detailCountdowns:[],categoryIdFromQuery:null}),computed:{futureCountdowns(){return this.detailCountdowns.filter(e=>v.calculateDays(e.date)>=0).sort((e,t)=>v.calculateDays(e.date)-v.calculateDays(t.date))},pastCountdowns(){return this.detailCountdowns.filter(e=>v.calculateDays(e.date)<0).sort((e,t)=>v.calculateDays(t.date)-v.calculateDays(e.date))}},onLoad(e){e.categoryId&&(this.categoryIdFromQuery=parseInt(e.categoryId))},onShow(){if(this.loadUserData(),this.loadCategories(),this.loadCountdowns(),this.categoryIdFromQuery){const e=this.categories.find(e=>e.id===this.categoryIdFromQuery);e&&this.handleCategoryClick(e),this.categoryIdFromQuery=null}},methods:{loadUserData(){const e=v.getCurrentUser();e&&(this.user=e)},loadCategories(){this.user.id&&(this.categories=v.getCategories(this.user.id))},loadCountdowns(){this.user.id&&(this.countdowns=v.getCountdowns(this.user.id))},getCategoryCount(e){return this.countdowns.filter(t=>t.categoryId===e).length},getAllCountdownCount(){return this.countdowns.length},getCategoryCountText(e){return`${this.getCategoryCount(e)}ä¸ªå€’æ•°æ—¥`},toggleDrawer(){this.drawerVisible=!this.drawerVisible},goToBookEdit(){x({url:"/pages/book-edit/book-edit"})},showAddCountdown(){this.editingCountdown=null,this.addCountdownVisible=!0},closeAddCountdown(){this.addCountdownVisible=!1,this.editingCountdown=null},handleAllCategory(){this.selectedCategory=null,this.detailCountdowns=this.countdowns,this.detailVisible=!0},handleAllCategoryDrawer(){this.drawerVisible=!1,this.handleAllCategory()},handleCategoryClick(e){this.selectedCategory=e,this.detailCountdowns=this.countdowns.filter(t=>t.categoryId===e.id),this.detailVisible=!0},handleCategoryDrawerClick(e){this.drawerVisible=!1,this.selectedCategory=e,this.detailCountdowns=this.countdowns.filter(t=>t.categoryId===e.id),this.detailVisible=!0},handleCategoryLongPress(e){a({itemList:["ç¼–è¾‘","åˆ é™¤"],success:a=>{0===a.tapIndex?x({url:`/pages/book-edit/book-edit?id=${e.id}`}):1===a.tapIndex&&l({title:"ç¡®è®¤åˆ é™¤",content:`ç¡®å®šè¦åˆ é™¤"${e.name}"åˆ†ç±»å—ï¼Ÿè¯¥åˆ†ç±»ä¸‹çš„å€’æ•°æ—¥ä¹Ÿä¼šè¢«åˆ é™¤ã€‚`,success:a=>{a.confirm&&(v.deleteCategory(e.id),this.loadCategories(),this.loadCountdowns(),t({title:"åˆ é™¤æˆåŠŸ",icon:"success"}))}})}})},closeDetail(){this.detailVisible=!1,this.selectedCategory=null,this.detailCountdowns=[]},handleCountdownClick(e){x({url:`/pages/detail/detail?id=${e.id}`})},handleCountdownSuccess(){this.loadCountdowns(),this.selectedCategory?this.detailCountdowns=this.countdowns.filter(e=>e.categoryId===this.selectedCategory.id):this.detailCountdowns=this.countdowns},calculateDaysNumber(e){const t=v.calculateDays(e);return Math.abs(t)},formatDate:e=>v.formatDate(e)}},[["render",function(e,t,a,l,g,C){const k=u,b=d,I=y,x=q("AddCountdown");return c(),s(b,{class:"page-container"},{default:n(()=>[i(b,{class:"navbar"},{default:n(()=>[i(b,{class:"navbar-icon",onClick:C.toggleDrawer},{default:n(()=>[i(k,null,{default:n(()=>[f("â˜°")]),_:1})]),_:1},8,["onClick"]),i(b,{class:"navbar-title"},{default:n(()=>[i(k,null,{default:n(()=>[f(h(g.user.nickname)+"çš„å€’æ•°æœ¬",1)]),_:1})]),_:1}),i(b,{class:"navbar-icon",onClick:C.goToBookEdit},{default:n(()=>[i(k,null,{default:n(()=>[f("+")]),_:1})]),_:1},8,["onClick"])]),_:1}),i(I,{"scroll-y":"",class:"page-content"},{default:n(()=>[i(b,{class:"add-category-section"},{default:n(()=>[i(b,{class:"add-category-btn shadow",onClick:C.goToBookEdit},{default:n(()=>[i(b,{class:"add-icon"},{default:n(()=>[i(k,null,{default:n(()=>[f("+")]),_:1})]),_:1}),i(k,{class:"add-text"},{default:n(()=>[f("æ·»åŠ æ–°å€’æ•°æœ¬")]),_:1})]),_:1},8,["onClick"])]),_:1}),i(b,{class:"category-section"},{default:n(()=>[i(b,{class:"section-title"},{default:n(()=>[i(k,null,{default:n(()=>[f("å…¨éƒ¨å€’æ•°æœ¬")]),_:1})]),_:1}),i(b,{class:"category-card shadow",onClick:C.handleAllCategory},{default:n(()=>[i(b,{class:"category-card-left"},{default:n(()=>[i(b,{class:"category-icon",style:{"background-color":"#1890ff"}},{default:n(()=>[i(k,null,{default:n(()=>[f("ðŸ“‹")]),_:1})]),_:1}),i(b,{class:"category-info"},{default:n(()=>[i(k,{class:"category-name"},{default:n(()=>[f("å…¨éƒ¨")]),_:1}),i(k,{class:"category-desc"},{default:n(()=>[f("æŸ¥çœ‹æ‰€æœ‰å€’æ•°æ—¥")]),_:1})]),_:1})]),_:1}),i(b,{class:"category-card-right"},{default:n(()=>[i(k,{class:"category-count"},{default:n(()=>[f(h(C.getAllCountdownCount()),1)]),_:1}),i(k,{class:"category-arrow"},{default:n(()=>[f("â€º")]),_:1})]),_:1})]),_:1},8,["onClick"]),(c(!0),m(_,null,w(g.categories,e=>(c(),s(b,{key:e.id,class:"category-card shadow",onClick:t=>C.handleCategoryClick(e),onLongpress:t=>C.handleCategoryLongPress(e)},{default:n(()=>[i(b,{class:"category-card-left"},{default:n(()=>[i(b,{class:"category-icon",style:D({backgroundColor:e.color})},{default:n(()=>[i(k,null,{default:n(()=>[f(h(e.icon),1)]),_:2},1024)]),_:2},1032,["style"]),i(b,{class:"category-info"},{default:n(()=>[i(k,{class:"category-name"},{default:n(()=>[f(h(e.name),1)]),_:2},1024),i(k,{class:"category-desc"},{default:n(()=>[f(h(C.getCategoryCountText(e.id)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),i(b,{class:"category-card-right"},{default:n(()=>[i(k,{class:"category-count"},{default:n(()=>[f(h(C.getCategoryCount(e.id)),1)]),_:2},1024),i(k,{class:"category-arrow"},{default:n(()=>[f("â€º")]),_:1})]),_:2},1024)]),_:2},1032,["onClick","onLongpress"]))),128))]),_:1}),i(b,{style:{height:"40rpx"}})]),_:1}),g.drawerVisible?(c(),s(b,{key:0,class:"drawer-mask",onClick:C.toggleDrawer},null,8,["onClick"])):o("",!0),i(b,{class:p(["drawer",{"drawer-open":g.drawerVisible}])},{default:n(()=>[i(b,{class:"drawer-header"},{default:n(()=>[i(k,{class:"drawer-title"},{default:n(()=>[f("å€’æ•°æœ¬")]),_:1}),i(b,{class:"drawer-close",onClick:C.toggleDrawer},{default:n(()=>[i(k,null,{default:n(()=>[f("âœ•")]),_:1})]),_:1},8,["onClick"])]),_:1}),i(I,{"scroll-y":"",class:"drawer-content"},{default:n(()=>[i(b,{class:"category-list"},{default:n(()=>[i(b,{class:"category-drawer-item",onClick:C.handleAllCategoryDrawer},{default:n(()=>[i(b,{class:"category-drawer-icon",style:{"background-color":"#1890ff"}},{default:n(()=>[i(k,null,{default:n(()=>[f("ðŸ“‹")]),_:1})]),_:1}),i(k,{class:"category-drawer-name"},{default:n(()=>[f("å…¨éƒ¨")]),_:1}),i(k,{class:"category-drawer-count"},{default:n(()=>[f(h(C.getAllCountdownCount()),1)]),_:1})]),_:1},8,["onClick"]),(c(!0),m(_,null,w(g.categories,e=>(c(),s(b,{key:e.id,class:"category-drawer-item",onClick:t=>C.handleCategoryDrawerClick(e)},{default:n(()=>[i(b,{class:"category-drawer-icon",style:D({backgroundColor:e.color})},{default:n(()=>[i(k,null,{default:n(()=>[f(h(e.icon),1)]),_:2},1024)]),_:2},1032,["style"]),i(k,{class:"category-drawer-name"},{default:n(()=>[f(h(e.name),1)]),_:2},1024),i(k,{class:"category-drawer-count"},{default:n(()=>[f(h(C.getCategoryCount(e.id)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["class"]),g.detailVisible?(c(),s(b,{key:1,class:"detail-mask",onClick:C.closeDetail},{default:n(()=>[i(b,{class:"detail-content",onClick:t[0]||(t[0]=r(()=>{},["stop"]))},{default:n(()=>[i(b,{class:"detail-header"},{default:n(()=>[i(b,{class:"detail-header-left"},{default:n(()=>[i(b,{class:"detail-icon",style:D({backgroundColor:g.selectedCategory?g.selectedCategory.color:"#1890ff"})},{default:n(()=>[i(k,null,{default:n(()=>[f(h(g.selectedCategory?g.selectedCategory.icon:"ðŸ“‹"),1)]),_:1})]),_:1},8,["style"]),i(b,{class:"detail-title-wrapper"},{default:n(()=>[i(k,{class:"detail-title"},{default:n(()=>[f(h(g.selectedCategory?g.selectedCategory.name:"å…¨éƒ¨"),1)]),_:1}),i(k,{class:"detail-subtitle"},{default:n(()=>[f(h(g.detailCountdowns.length)+"ä¸ªå€’æ•°æ—¥",1)]),_:1})]),_:1})]),_:1}),i(b,{class:"detail-close",onClick:C.closeDetail},{default:n(()=>[i(k,null,{default:n(()=>[f("âœ•")]),_:1})]),_:1},8,["onClick"])]),_:1}),i(I,{"scroll-y":"",class:"detail-body"},{default:n(()=>[C.futureCountdowns.length>0?(c(),s(b,{key:0,class:"countdown-group"},{default:n(()=>[i(b,{class:"group-title"},{default:n(()=>[i(k,null,{default:n(()=>[f("æœªæ¥ ("+h(C.futureCountdowns.length)+")",1)]),_:1})]),_:1}),(c(!0),m(_,null,w(C.futureCountdowns,e=>(c(),s(b,{key:e.id,class:"countdown-card shadow",onClick:t=>C.handleCountdownClick(e)},{default:n(()=>[i(b,{class:"countdown-number"},{default:n(()=>[i(k,null,{default:n(()=>[f(h(C.calculateDaysNumber(e.date)),1)]),_:2},1024)]),_:2},1024),i(b,{class:"countdown-info"},{default:n(()=>[i(k,{class:"countdown-title"},{default:n(()=>[f(h(e.title),1)]),_:2},1024),i(k,{class:"countdown-date"},{default:n(()=>[f(h(C.formatDate(e.date)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):o("",!0),C.pastCountdowns.length>0?(c(),s(b,{key:1,class:"countdown-group"},{default:n(()=>[i(b,{class:"group-title"},{default:n(()=>[i(k,null,{default:n(()=>[f("å·²ç» ("+h(C.pastCountdowns.length)+")",1)]),_:1})]),_:1}),(c(!0),m(_,null,w(C.pastCountdowns,e=>(c(),s(b,{key:e.id,class:"countdown-card shadow past-card",onClick:t=>C.handleCountdownClick(e)},{default:n(()=>[i(b,{class:"countdown-number past-number"},{default:n(()=>[i(k,null,{default:n(()=>[f(h(C.calculateDaysNumber(e.date)),1)]),_:2},1024)]),_:2},1024),i(b,{class:"countdown-info"},{default:n(()=>[i(k,{class:"countdown-title"},{default:n(()=>[f(h(e.title),1)]),_:2},1024),i(k,{class:"countdown-date"},{default:n(()=>[f(h(C.formatDate(e.date)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):o("",!0),0===g.detailCountdowns.length?(c(),s(b,{key:2,class:"empty-state"},{default:n(()=>[i(k,{class:"empty-icon"},{default:n(()=>[f("ðŸ“‹")]),_:1}),i(k,{class:"empty-text"},{default:n(()=>[f("è¿˜æ²¡æœ‰å€’æ•°æ—¥")]),_:1}),i(b,{class:"btn btn-primary",onClick:C.showAddCountdown},{default:n(()=>[i(k,null,{default:n(()=>[f("æ·»åŠ ç¬¬ä¸€ä¸ª")]),_:1})]),_:1},8,["onClick"])]),_:1})):o("",!0),i(b,{style:{height:"40rpx"}})]),_:1})]),_:1})]),_:1},8,["onClick"])):o("",!0),i(x,{visible:g.addCountdownVisible,countdownData:g.editingCountdown,onClose:C.closeAddCountdown,onSuccess:C.handleCountdownSuccess},null,8,["visible","countdownData","onClose","onSuccess"])]),_:1})}],["__scopeId","data-v-5742e2d4"]]);export{F as default};
