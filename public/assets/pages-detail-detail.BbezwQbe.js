import{_ as t,c as a,w as e,n as l,D as n,i as s,o,a as d,d as c,e as i,S as u,b as f,h as r,t as _}from"./index-sFHZ-OT3.js";import{d as m}from"./db.Cc0ive14.js";const g=t({name:"Detail",components:{},data:()=>({countdownId:null,countdown:null,categories:[]}),computed:{daysCount(){return this.countdown?m.calculateDays(this.countdown.date):0},daysLabel(){return this.daysCount>0?"è·ç¦»ç›®æ ‡è¿˜æœ‰":this.daysCount<0?"è·ç¦»ç›®æ ‡å·²ç»":"å°±æ˜¯ä»Šå¤©"},categoryColor(){if(!this.countdown)return"#1890ff";const t=this.categories.find(t=>t.id===this.countdown.categoryId);return t?t.color:"#1890ff"},categoryIcon(){if(!this.countdown)return"ğŸ“‹";const t=this.categories.find(t=>t.id===this.countdown.categoryId);return t?t.icon:"ğŸ“‹"},categoryName(){if(!this.countdown)return"æœªåˆ†ç±»";const t=this.categories.find(t=>t.id===this.countdown.categoryId);return t?t.name:"æœªåˆ†ç±»"},repeatText(){return this.countdown?m.getRepeatText(this.countdown.repeatCycle,this.countdown.repeatFrequency):"ä¸é‡å¤"}},onLoad(t){t.id&&(this.countdownId=parseInt(t.id),this.loadData())},onShow(){this.countdownId&&this.loadData()},methods:{loadData(){if(this.countdown=m.getCountdown(this.countdownId),this.countdown){const t=m.getCurrentUser();t&&(this.categories=m.getCategories(t.id))}},formatFullDate:t=>m.formatDate(t),formatCreateTime(t){if(!t)return"æœªçŸ¥";const a=new Date(t);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")} ${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`},goBack(){n({delta:1})},handleEdit(){l({url:`/pages/edit/edit?id=${this.countdownId}`})}}},[["render",function(t,l,n,m,g,w){const h=c,y=s,p=u;return o(),a(y,{class:"page-container"},{default:e(()=>[d(y,{class:"navbar"},{default:e(()=>[d(y,{class:"navbar-icon",onClick:w.goBack},{default:e(()=>[d(h,null,{default:e(()=>[i("â€¹")]),_:1})]),_:1},8,["onClick"]),d(y,{class:"navbar-title"},{default:e(()=>[d(h,null,{default:e(()=>[i("å€’æ•°æ—¥è¯¦æƒ…")]),_:1})]),_:1}),d(y,{class:"navbar-icon",onClick:w.handleEdit},{default:e(()=>[d(h,null,{default:e(()=>[i("âœ")]),_:1})]),_:1},8,["onClick"])]),_:1}),d(p,{"scroll-y":"",class:"page-content"},{default:e(()=>[g.countdown?(o(),a(y,{key:0,class:"detail-container"},{default:e(()=>[d(y,{class:"countdown-main-card shadow-lg"},{default:e(()=>[d(y,{class:"countdown-header"},{default:e(()=>[d(y,{class:"category-badge",style:r({backgroundColor:w.categoryColor})},{default:e(()=>[d(h,{class:"category-icon"},{default:e(()=>[i(_(w.categoryIcon),1)]),_:1}),d(h,{class:"category-name"},{default:e(()=>[i(_(w.categoryName),1)]),_:1})]),_:1},8,["style"]),g.countdown.isPinned?(o(),a(y,{key:0,class:"pin-badge"},{default:e(()=>[d(h,null,{default:e(()=>[i("ğŸ“Œ å·²ç½®é¡¶")]),_:1})]),_:1})):f("",!0)]),_:1}),d(y,{class:"countdown-title-section"},{default:e(()=>[d(h,{class:"countdown-title"},{default:e(()=>[i(_(g.countdown.title),1)]),_:1})]),_:1}),d(y,{class:"countdown-days-section"},{default:e(()=>[d(y,{class:"days-wrapper"},{default:e(()=>[d(h,{class:"days-label"},{default:e(()=>[i(_(w.daysLabel),1)]),_:1}),d(h,{class:"days-number"},{default:e(()=>[i(_(Math.abs(w.daysCount)),1)]),_:1}),d(h,{class:"days-unit"},{default:e(()=>[i("å¤©")]),_:1})]),_:1})]),_:1}),d(y,{class:"countdown-date-section"},{default:e(()=>[d(h,{class:"date-text"},{default:e(()=>[i(_(w.formatFullDate(g.countdown.date)),1)]),_:1})]),_:1})]),_:1}),d(y,{class:"info-card shadow"},{default:e(()=>[d(y,{class:"info-header"},{default:e(()=>[d(h,{class:"info-title"},{default:e(()=>[i("è¯¦ç»†ä¿¡æ¯")]),_:1})]),_:1}),d(y,{class:"info-list"},{default:e(()=>[d(y,{class:"info-item"},{default:e(()=>[d(y,{class:"info-item-label"},{default:e(()=>[d(h,{class:"info-icon"},{default:e(()=>[i("ğŸ“…")]),_:1}),d(h,null,{default:e(()=>[i("ç›®æ ‡æ—¥æœŸ")]),_:1})]),_:1}),d(h,{class:"info-item-value"},{default:e(()=>[i(_(g.countdown.date),1)]),_:1})]),_:1}),d(y,{class:"info-item"},{default:e(()=>[d(y,{class:"info-item-label"},{default:e(()=>[d(h,{class:"info-icon"},{default:e(()=>[i("ğŸ“‚")]),_:1}),d(h,null,{default:e(()=>[i("æ‰€å±åˆ†ç±»")]),_:1})]),_:1}),d(h,{class:"info-item-value"},{default:e(()=>[i(_(w.categoryName),1)]),_:1})]),_:1}),d(y,{class:"info-item"},{default:e(()=>[d(y,{class:"info-item-label"},{default:e(()=>[d(h,{class:"info-icon"},{default:e(()=>[i("ğŸ”„")]),_:1}),d(h,null,{default:e(()=>[i("é‡å¤è®¾ç½®")]),_:1})]),_:1}),d(h,{class:"info-item-value"},{default:e(()=>[i(_(w.repeatText),1)]),_:1})]),_:1}),d(y,{class:"info-item"},{default:e(()=>[d(y,{class:"info-item-label"},{default:e(()=>[d(h,{class:"info-icon"},{default:e(()=>[i("ğŸ“Œ")]),_:1}),d(h,null,{default:e(()=>[i("ç½®é¡¶çŠ¶æ€")]),_:1})]),_:1}),d(h,{class:"info-item-value"},{default:e(()=>[i(_(g.countdown.isPinned?"å·²ç½®é¡¶":"æœªç½®é¡¶"),1)]),_:1})]),_:1}),d(y,{class:"info-item"},{default:e(()=>[d(y,{class:"info-item-label"},{default:e(()=>[d(h,{class:"info-icon"},{default:e(()=>[i("ğŸ—‚ï¸")]),_:1}),d(h,null,{default:e(()=>[i("å½’æ¡£çŠ¶æ€")]),_:1})]),_:1}),d(h,{class:"info-item-value"},{default:e(()=>[i(_(g.countdown.isArchived?"å·²å½’æ¡£":"æœªå½’æ¡£"),1)]),_:1})]),_:1}),d(y,{class:"info-item"},{default:e(()=>[d(y,{class:"info-item-label"},{default:e(()=>[d(h,{class:"info-icon"},{default:e(()=>[i("â°")]),_:1}),d(h,null,{default:e(()=>[i("åˆ›å»ºæ—¶é—´")]),_:1})]),_:1}),d(h,{class:"info-item-value"},{default:e(()=>[i(_(w.formatCreateTime(g.countdown.createdAt)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(o(),a(y,{key:1,class:"empty-state"},{default:e(()=>[d(h,{class:"empty-icon"},{default:e(()=>[i("ğŸ“­")]),_:1}),d(h,{class:"empty-text"},{default:e(()=>[i("å€’æ•°æ—¥ä¸å­˜åœ¨")]),_:1}),d(y,{class:"btn btn-primary",onClick:w.goBack},{default:e(()=>[d(h,null,{default:e(()=>[i("è¿”å›")]),_:1})]),_:1},8,["onClick"])]),_:1})),d(y,{style:{height:"40rpx"}})]),_:1})]),_:1})}],["__scopeId","data-v-0f4b5681"]]);export{g as default};
